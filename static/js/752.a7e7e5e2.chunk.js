"use strict";(self.webpackChunkasvoria_staking_app=self.webpackChunkasvoria_staking_app||[]).push([[752],{41440:(e,t,n)=>{n.r(t),n.d(t,{default:()=>V});var o=n(46512),i=n(43852),r=n(22084),s=n(67684),a=n(93128),c=n(68716),l=n(70446),d=n(88004);const p=n.p+"static/media/icon.175c429d9dabf0158768.PNG";n(54152);var x=n(15696),m=n(20384);n(63799);var g=n(93296);const h=e=>{let{color:t,title:n,count:o,percentage:i,isLoss:r,extra:l}=e;return(0,m.jsx)("div",{children:(0,m.jsxs)(d.c,{sx:{bgcolor:"#16182D !important",padding:"2rem 1.2rem",borderRadius:"0.5rem"},children:[(0,m.jsxs)(a.c,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,m.jsx)(c.c,{variant:"h5",color:"grey",children:n}),(0,m.jsx)(g.uc,{})]}),(0,m.jsx)(s.cp,{container:!0,alignItems:"center",children:(0,m.jsx)(s.cp,{item:!0,children:(0,m.jsx)(c.c,{sx:{color:"white",fontWeight:700,fontSize:"24px",lineHeight:"31px",marginTop:"5px"},variant:"h4",color:"inherit",children:o})})})]})})};h.defaultProps={color:"primary"};const u=h,f={lockPeriod:{textAlign:"center",fontFamily:"Space Grotesk",fontWeight:400,fontSize:"16px",lineHeight:"20px"},timer:{color:"#F5331E",fontFamily:"Space Grotesk",fontWeight:600,fontSize:"32px",lineHeight:"23px"},timeCat:{color:"#000515",lineHeight:"10px",fontSize:"12px",mt:2},lockAmount:{textAlign:"center",fontFamily:"Space Grotesk",fontWeight:500,fontSize:"18px",lineHeight:"16px",color:"#000515",opacity:.7,mt:3},selectBox:{width:"120px",padding:"6px 10px",fontFamily:"Space Grotesk",fontSize:"16px",color:"white",background:"#16182D",border:"1px solid #ccc"},stakeChartvalue:{fontFamily:"Space Grotesk",fontSize:"24px",fontWeight:700,lineHeight:"30px"},txtInput:{border:"1px solid #C7C4C3",width:"100%",fontSize:"16px",fontFamily:"Space Grotesk",padding:"18px 16px",background:"#e5e5e5",color:"#000515",borderRadius:0},btn:{width:"100%",bgcolor:"#F5331E",fontFamily:"Space Grotesk",fontSize:"16px",borderRadius:0,color:"#fff",py:2,px:2,"&:hover":{bgcolor:"#ff7262"}}},k=e=>{let{color:t,title:n,count:i=0,percentage:r,isLoss:l,extra:p}=e;const[h,u]=(0,o.useState)(""),{blockchainData:k}=(0,o.useContext)(x.S);return(0,o.useEffect)((()=>{u(k.apy[0])}),[]),(0,m.jsx)("div",{children:(0,m.jsxs)(d.c,{sx:{bgcolor:"#16182D !important",padding:"2rem 1.2rem",borderRadius:"0.5rem"},children:[(0,m.jsxs)(a.c,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,m.jsx)(c.c,{variant:"h5",color:"grey",children:n}),(0,m.jsx)(g.uc,{})]}),(0,m.jsx)(s.cp,{container:!0,alignItems:"center",children:(0,m.jsx)(s.cp,{item:!0,sx:{width:"100%"},children:(0,m.jsxs)(d.c,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,m.jsx)(c.c,{sx:{color:"white",fontWeight:700,fontSize:"24px",lineHeight:"31px",marginTop:"5px"},variant:"h4",color:"inherit",children:parseFloat(h/100).toFixed(2)+"%"}),(0,m.jsx)("select",{style:f.selectBox,onChange:e=>{u(k.apy[e.target.value])},children:(0,m.jsxs)("optgroup",{label:"ASVORIA",children:[(0,m.jsx)("option",{value:"0",children:"1 Month"}),(0,m.jsx)("option",{value:"1",children:"3 Month"}),(0,m.jsx)("option",{value:"2",children:"6 Month"}),(0,m.jsx)("option",{value:"3",children:"9 Month"}),(0,m.jsx)("option",{value:"4",children:"12 Month"})]})})]})})})]})})};k.defaultProps={color:"primary"};const S=k;var j=n(22804),y=n(62544);const b=(0,j.cp)(r.c)((e=>{let{theme:t}=e;return{backgroundColor:"#e5e5e5",borderRadius:0,paddingTop:"1.25rem",paddingBottom:"1.25rem",textAlign:"center",boxShadow:"none",width:"68px"}})),v={lockPeriod:{textAlign:"center",fontFamily:"Space Grotesk",fontWeight:400,fontSize:"16px",lineHeight:"20px"},timer:{color:"#D334FF",fontFamily:"Space Grotesk",fontWeight:600,fontSize:"32px",lineHeight:"23px"},timeCat:{color:"#16D0FF",lineHeight:"10px",fontSize:"12px",mt:2},lockAmount:{textAlign:"center",fontFamily:"Space Grotesk",fontWeight:500,fontSize:"18px",lineHeight:"16px",color:"#000515",opacity:.7,mt:3},selectBox:{width:"120px",padding:"6px 10px",fontFamily:"Space Grotesk",fontSize:"16px",background:"#e6e6e6",border:"1px solid #ccc"},stakeChartvalue:{fontFamily:"Space Grotesk",fontSize:"24px",fontWeight:700,lineHeight:"30px"},txtInput:{border:"1px solid #C7C4C3",width:"100%",fontSize:"16px",fontFamily:"Space Grotesk",padding:"18px 16px",background:"#e5e5e5",color:"#000515",borderRadius:0},btn:{width:"100%",bgcolor:"#F5331E",fontFamily:"Space Grotesk",fontSize:"16px",borderRadius:0,color:"#fff",py:2,px:2,"&:hover":{bgcolor:"#ff7262"}}},w=e=>{let{deadline:t}=e;const[n,i]=(0,o.useState)(0),[r,s]=(0,o.useState)(0),[a,l]=(0,o.useState)(0),[p,x]=(0,o.useState)(0);return(0,o.useEffect)((()=>{if(t-(new Date).getTime()>0){const e=setInterval((()=>(()=>{const e=t-(new Date).getTime();i(Math.floor(e/864e5)),s(Math.floor(e/36e5%24)),l(Math.floor(e/1e3/60%60)),x(Math.floor(e/1e3%60))})()),1e3);return()=>clearInterval(e)}i(0),s(0),l(0),x(0)}),[t]),(0,m.jsxs)(d.c,{direction:"row",divider:(0,m.jsx)(y.c,{}),spacing:1.5,sx:{mt:"16px"},alignItems:"center",children:[(0,m.jsxs)(b,{sx:{bgcolor:"#121320 !important"},children:[(0,m.jsx)(c.c,{variant:"h3",sx:v.timer,children:n<10?"0"+n:isNaN(n)?"00":n}),(0,m.jsx)(c.c,{variant:"h3",sx:v.timeCat,children:"Days"})]}),(0,m.jsxs)(b,{sx:{bgcolor:"#121320 !important"},children:[(0,m.jsx)(c.c,{variant:"h3",sx:v.timer,children:r<10?"0"+r:isNaN(r)?"00":r}),(0,m.jsx)(c.c,{variant:"h3",sx:v.timeCat,children:"Hours"})]}),(0,m.jsxs)(b,{sx:{bgcolor:"#121320 !important"},children:[(0,m.jsx)(c.c,{variant:"h3",sx:v.timer,children:a<10?"0"+a:isNaN(a)?"00":a}),(0,m.jsx)(c.c,{variant:"h3",sx:v.timeCat,children:"Minutes"})]}),(0,m.jsxs)(b,{sx:{bgcolor:"#121320 !important"},children:[(0,m.jsx)(c.c,{variant:"h3",sx:v.timer,children:p<10?"0"+p:isNaN(p)?"00":p}),(0,m.jsx)(c.c,{variant:"h3",sx:v.timeCat,children:"Seconds"})]})]})};var A=n(21064),I=n(77260);const M=JSON.parse('{"version":"0.1.0","name":"staking_program","instructions":[{"name":"initialize","accounts":[{"name":"signer","isMut":true,"isSigner":true},{"name":"tokenVaultAccount","isMut":true,"isSigner":false},{"name":"mint","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"stake","accounts":[{"name":"signer","isMut":true,"isSigner":true},{"name":"stakeInfoAccount","isMut":true,"isSigner":false},{"name":"stakeAccount","isMut":true,"isSigner":false},{"name":"userTokenAccount","isMut":true,"isSigner":false},{"name":"mint","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"},{"name":"lockPeriod","type":"u64"}]},{"name":"destake","accounts":[{"name":"signer","isMut":true,"isSigner":true},{"name":"tokenVaultAccount","isMut":true,"isSigner":false},{"name":"stakeInfoAccount","isMut":true,"isSigner":false},{"name":"stakeAccount","isMut":true,"isSigner":false},{"name":"userTokenAccount","isMut":true,"isSigner":false},{"name":"mint","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]}],"accounts":[{"name":"StakeInfo","type":{"kind":"struct","fields":[{"name":"stakeAt","type":"i64"},{"name":"isStaked","type":"bool"},{"name":"lockPeriod","type":"u64"},{"name":"apy","type":"u8"}]}}],"errors":[{"code":6000,"name":"IsStaked","msg":"Tokens are already staked."},{"code":6001,"name":"NotStaked","msg":"Tokens not staked."},{"code":6002,"name":"NoTokens","msg":"No Tokens to stake."},{"code":6003,"name":"StakingNotExpired","msg":"Staking period not expired"},{"code":6004,"name":"InvalidPeriod","msg":"Invalid staking period"}]}');n(63340),n(44940);var C=n(78333),F=n(58668),P=n(68792),z=n(94188),T=n(92212),R=n(74508),D=(n(28512),n(55568).Buffer);const G=e=>{let{stakeInfor:t,stakeBalance:n}=e;const{blockchainData:i}=(0,o.useContext)(x.S),[r,s]=(0,o.useState)(0);let l=(new Date).getTime();t&&(l=t.isStaked?1e3*(parseInt(t.stakeAt.toString())+parseInt(t.lockPeriod.toString())):0,l=isNaN(l)?0:l,console.log(l));const p={lockPeriod:{textAlign:"center",fontFamily:"Space Grotesk",fontWeight:400,fontSize:"16px",lineHeight:"20px",color:"white"},timer:{color:"#F5331E",fontFamily:"Space Grotesk",fontWeight:600,fontSize:"32px",lineHeight:"23px"},timeCat:{color:"#000515",lineHeight:"10px",fontSize:"12px",mt:2},lockAmount:{textAlign:"center",fontFamily:"Space Grotesk",fontWeight:500,fontSize:"16px",lineHeight:"16px",color:"white",opacity:.7,mt:3},selectBox:{width:"120px",padding:"8px 10px",fontFamily:"Space Grotesk",fontSize:"16px",color:"white",background:"#16182D",border:"1px solid #ccc",marginTop:"4px"},stakeChartvalue:{fontFamily:"Space Grotesk",fontSize:"24px",fontWeight:700,lineHeight:"30px"},txtInput:{border:"1px solid #C7C4C3",width:"100%",fontSize:"16px",fontFamily:"Space Grotesk",padding:"18px 16px",background:"#e5e5e5",color:"#000515",borderRadius:0},btn:{width:"100%",bgcolor:"#F5331E",fontFamily:"Space Grotesk",fontSize:"16px",borderRadius:0,color:"#fff",py:2,px:2,"&:hover":{bgcolor:"#ff7262"}}};return(0,m.jsx)("div",{children:(0,m.jsxs)(a.c,{sx:{bgcolor:"#16182D !important",padding:"1.5rem 1.2rem",borderRadius:"0.5rem"},children:[(0,m.jsxs)(d.c,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,m.jsx)(c.c,{sx:{color:"white",fontWeight:700},variant:"h4",children:"Lock Period"}),(0,m.jsx)("select",{style:p.selectBox,onChange:e=>{s(e.target.value)},children:(0,m.jsxs)("optgroup",{label:"ASVORIA",children:[(0,m.jsx)("option",{value:"0",children:"1 Month"}),(0,m.jsx)("option",{value:"1",children:"3 Month"}),(0,m.jsx)("option",{value:"2",children:"6 Month"}),(0,m.jsx)("option",{value:"3",children:"9 Month"}),(0,m.jsx)("option",{value:"4",children:"12 Month"})]})})]}),(0,m.jsxs)(a.c,{sx:{display:"flex",alignItems:"center",justifyContent:"center",pt:4.5,pb:3.5,pl:1,pr:1,flexDirection:"column"},children:[(0,m.jsxs)(d.c,{spacing:1,children:[(0,m.jsx)(c.c,{variant:"p",sx:p.lockPeriod,children:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(l).getDay()]}),(0,m.jsx)(c.c,{variant:"p",sx:p.lockPeriod,children:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}).format(new Date(l))})]}),(0,m.jsx)(w,{deadline:l}),(0,m.jsxs)(c.c,{variant:"p",sx:p.lockAmount,children:["Token Staked: ",new Intl.NumberFormat("en-US").format(n.toString())+" ASVORIA"," "]})]})]})})};var W=n(51e3),B=n.n(W),N=n(58408);n.n(N)()(B());const H={border:"1px solid #C7C4C3",width:"100%",fontSize:"16px",fontFamily:"Space Grotesk",padding:"18px 16px",background:"#16182D",color:"white",borderRadius:0},O={width:"100%",bgcolor:"#e5e5e5",fontFamily:"Space Grotesk",fontSize:"16px",borderRadius:0,color:"white",bgcolor:"#16182D",fontWeight:500,border:"2px solid #16D0FF",py:1.8,px:2,"&:hover":{bgcolor:"#00bbea"}},E=(0,j.cp)(r.c)((e=>{let{theme:t}=e;return{background:"#121320",borderRadius:0,padding:"12px",boxShadow:"none",width:"100%"}})),V=()=>{const e=(0,o.useRef)(),t=(0,o.useRef)(),{stake:n,destake:r,stakeInfor:x,stakeBalance:g,setTransactionPending:h}=function(){const{connection:e}=(0,F.W)(),{publicKey:t}=(0,P.e)(),n=(0,z.y)(),[r,s]=(0,o.useState)(!1),[a,c]=(0,o.useState)(null),[l,d]=(0,o.useState)(0),[p,x]=(0,o.useState)(!1),m=(0,o.useMemo)((()=>{if(n){const t=new A.Oy(e,n,A.Oy.defaultOptions());return new A.GY(M,I.s,t)}}),[e,n]);return(0,o.useEffect)((()=>{(async()=>{if(m&&t&&!p)try{s(!0);const[n]=(0,C.findProgramAddressSync)([D.from("stake_info"),t.toBuffer()],m.programId);let[o]=(0,C.findProgramAddressSync)([D.from("token"),t.toBuffer()],m.programId);const i=await m.account.stakeInfo.fetch(n),r=await e.getTokenAccountBalance(o);console.log(i),i&&(c(i),d(r.value.uiAmount))}catch(n){console.log(n)}finally{s(!1)}})()}),[t,m,p]),{loading:r,transactionPending:p,setTransactionPending:x,stake:async(o,r)=>{if(m&&t)try{x(!0);let s=await(0,T.Q)(e,n,I.Q,t,void 0,"confirmed",void 0,R.cb);console.log(s);const[a]=(0,C.findProgramAddressSync)([D.from("stake_info"),t.toBuffer()],m.programId);console.log(a);let[c]=(0,C.findProgramAddressSync)([D.from("token"),t.toBuffer()],m.programId);console.log(c),console.log(n);const l=await m.methods.stake(new A.BN(o),new A.BN(r)).accounts({signer:n.publicKey,stakeInfoAccount:a,stakeAccount:c,userTokenAccount:s.address,mint:I.Q,tokenProgram:R.cb,associatedTokenProgram:R.ac}).rpc();console.log(l),i.cp.success("Token staked successfully")}catch(s){console.log(s),i.cp.error("Something went wrong")}finally{x(!1)}},destake:async()=>{if(m&&t)try{x(!0);let o=await(0,T.Q)(e,n,I.Q,t,void 0,"confirmed",void 0,R.cb);console.log(o);const[r]=(0,C.findProgramAddressSync)([D.from("stake_info"),t.toBuffer()],m.programId);console.log(r);let[s]=(0,C.findProgramAddressSync)([D.from("token"),t.toBuffer()],m.programId),[a]=(0,C.findProgramAddressSync)([D.from("vault")],m.programId);console.log(s),console.log(a.toString());const c=await m.methods.destake().accounts({signer:t,tokenVaultAccount:a,stakeInfoAccount:r,stakeAccount:s,userTokenAccount:o.address,mint:I.Q,tokenProgram:R.cb}).rpc();console.log(c),i.cp.success("Token Unstaked successfully")}catch(o){console.log(o),i.cp.error("Something went wrong")}finally{x(!1)}},stakeInfor:a,stakeBalance:l}}();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(s.cp,{sx:{marginTop:"1rem"},container:!0,rowSpacing:4.5,columnSpacing:3.75,children:[(0,m.jsx)(s.cp,{item:!0,xs:12,sm:12,md:6,lg:6,children:(0,m.jsx)(S,{title:"APY Rate"})}),(0,m.jsx)(s.cp,{item:!0,xs:12,sm:12,md:6,lg:6,children:(0,m.jsx)(u,{title:"Stake Amount",count:new Intl.NumberFormat("en-US").format(g.toString())})}),(0,m.jsx)(s.cp,{item:!0,xs:12,md:12,lg:12,children:(0,m.jsx)(G,{stakeInfor:x,stakeBalance:g})}),(0,m.jsx)(s.cp,{item:!0,xs:12,md:7,lg:7,children:(0,m.jsxs)(a.c,{sx:{bgcolor:"#16182D !important",padding:"1.5rem 1.3rem",borderRadius:"0.5rem"},children:[(0,m.jsxs)(s.cp,{container:!0,children:[(0,m.jsxs)(s.cp,{item:!0,xs:12,sm:6,sx:{px:1,mb:2,sm:{mb:0}},children:[(0,m.jsx)(c.c,{variant:"h4",sx:{fontWeight:700,mb:2,color:"white"},children:"Amount to Stake"}),(0,m.jsx)("input",{ref:e,style:{...H},placeholder:"Amount"})]}),(0,m.jsxs)(s.cp,{item:!0,xs:12,sm:6,sx:{px:1,mb:2,sm:{mb:0}},children:[(0,m.jsx)(c.c,{variant:"h4",sx:{fontWeight:700,mb:2,color:"white"},children:"Lock Options"}),(0,m.jsx)("select",{style:{...H},ref:t,children:(0,m.jsxs)("optgroup",{label:"ASVORIA",children:[(0,m.jsx)("option",{value:"",children:"Select Lock Period"}),(0,m.jsx)("option",{value:"1",children:"1 Month"}),(0,m.jsx)("option",{value:"3",children:"3 Month"}),(0,m.jsx)("option",{value:"6",children:"6 Month"}),(0,m.jsx)("option",{value:"9",children:"9 Month"}),(0,m.jsx)("option",{value:"12",children:"12 Month"})]})})]})]}),(0,m.jsxs)(s.cp,{container:!0,sx:{mt:1.2},children:[(0,m.jsx)(s.cp,{item:!0,xs:12,sm:6,sx:{px:1,mb:.5},children:(0,m.jsx)(l.c,{sx:{...O},onClick:async()=>{await n(e.current.value,t.current.value),h(!0),h(!1)},children:"Stake"})}),(0,m.jsx)(s.cp,{item:!0,xs:12,sm:6,sx:{px:1,mb:.5},children:(0,m.jsx)(l.c,{sx:{...O},onClick:async()=>{await r(),h(!0),h(!1)},children:"Withdraw Stake"})})]})]})}),(0,m.jsx)(s.cp,{item:!0,xs:12,md:5,lg:5,children:(0,m.jsx)("div",{children:(0,m.jsxs)(a.c,{sx:{bgcolor:"#16182D !important",padding:"1.8rem 1.3rem",borderRadius:"0.5rem"},children:[(0,m.jsx)(c.c,{sx:{fontWeight:700,mb:3.5,color:"white"},variant:"h4",children:"Token Rate"}),(0,m.jsx)(d.c,{direction:"column",spacing:2,alignItems:"center",justifyContent:"space-between",children:(0,m.jsx)(E,{children:(0,m.jsxs)(d.c,{direction:"row",alignItems:"center",spacing:1.8,children:[(0,m.jsx)("img",{style:{borderRadius:"1rem"},src:p,alt:"Asvoria",width:60,height:55}),(0,m.jsxs)(d.c,{spacing:1.5,children:[(0,m.jsxs)(d.c,{direction:"row",spacing:1.2,alignItems:"center",children:[(0,m.jsx)(c.c,{variant:"p",sx:{fontWeight:700,fontSize:"16px",color:"white"},children:"ASVORIA"}),(0,m.jsx)("div",{style:{width:"1px",height:"10px",background:"#C7C8CC"}}),(0,m.jsx)(c.c,{variant:"p",sx:{fontWeight:500,fontSize:"16px",color:"white",opacity:.5},children:"ASVORIA Protocol"})]}),(0,m.jsx)(c.c,{variant:"p",sx:{fontWeight:700,fontSize:"16px",color:"white"},children:"$ 0.0012 USD"})]})]})})})]})})})]}),(0,m.jsx)(i.ox,{position:"top-center",reverseOrder:!1,toastOptions:{style:{background:"#16182D",color:"white"}}})]})}}}]);
//# sourceMappingURL=752.a7e7e5e2.chunk.js.map